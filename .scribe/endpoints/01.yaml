name: Employees
description: ''
endpoints:
  -
    custom: []
    httpMethods:
      - GET
    uri: api/employees
    metadata:
      custom: []
      groupName: Employees
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Get all employees'
      description: |-
        Retrieves a paginated list of employees with their personal information, employment details, and role assignments.
        Supports filtering by branch, department, designation, status, and sorting options.
      authenticated: true
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters:
      branch_id:
        custom: []
        name: branch_id
        description: 'Optional. Filter employees by branch ID.'
        required: false
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      department_id:
        custom: []
        name: department_id
        description: 'Optional. Filter employees by department ID.'
        required: false
        example: 2
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      designation_id:
        custom: []
        name: designation_id
        description: 'Optional. Filter employees by designation ID.'
        required: false
        example: 3
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      status:
        custom: []
        name: status
        description: 'Optional. Filter by employment status (0=Inactive, 1=Active).'
        required: false
        example: '1'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      sort:
        custom: []
        name: sort
        description: 'Optional. Sort order: "asc" (oldest first), "desc" (newest first), "last_month" (last 30 days), "last_7_days" (last week).'
        required: false
        example: desc
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanQueryParameters:
      branch_id: 1
      department_id: 2
      designation_id: 3
      status: '1'
      sort: desc
    bodyParameters: []
    cleanBodyParameters: []
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "employees": [
              {
                "user": {
                  "id": 1,
                  "username": "juan.delacruz",
                  "email": "juan@company.com",
                  "role": "Employee"
                },
                "employment_detail": {
                  "id": 1,
                  "employee_id": "EMP-0001",
                  "date_hired": "2024-01-15",
                  "employment_type": "Regular",
                  "employment_status": "Active",
                  "branch_id": 1,
                  "department_id": 2,
                  "designation_id": 3,
                  "status": 1
                },
                "personal_information": {
                  "first_name": "Juan",
                  "last_name": "Dela Cruz",
                  "middle_name": "Santos",
                  "suffix": "Jr.",
                  "phone_number": "09171234567",
                  "profile_picture": "profile_images/1234567890_photo.jpg"
                }
              }
            ]
          }
        headers: []
        description: Success
      -
        custom: []
        status: 401
        content: |-
          {
            "message": "Unauthenticated."
          }
        headers: []
        description: Unauthenticated
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - POST
    uri: api/employees
    metadata:
      custom: []
      groupName: Employees
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Create a new employee'
      description: |-
        Creates a new employee record with personal information, employment details, and salary configuration.
        This endpoint performs license validation and may generate overage invoices if license limits are exceeded.
      authenticated: true
      deprecated: false
    headers:
      Content-Type: multipart/form-data
      Accept: application/json
    urlParameters: []
    cleanUrlParameters: []
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      first_name:
        custom: []
        name: first_name
        description: "Employee's first name."
        required: true
        example: Juan
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      last_name:
        custom: []
        name: last_name
        description: "Employee's last name."
        required: true
        example: 'Dela Cruz'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      middle_name:
        custom: []
        name: middle_name
        description: "Optional. Employee's middle name."
        required: false
        example: Santos
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      suffix:
        custom: []
        name: suffix
        description: 'Optional. Name suffix (e.g., Jr., Sr., III).'
        required: false
        example: Jr.
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      profile_picture:
        custom: []
        name: profile_picture
        description: 'Optional. Profile photo (jpeg, jpg, png format, max 2MB).'
        required: false
        example: null
        type: file
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        deprecated: false
      username:
        custom: []
        name: username
        description: 'Unique username for login. Must be unique across the system.'
        required: true
        example: juan.delacruz
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      email:
        custom: []
        name: email
        description: 'Unique email address. Must be a valid email format.'
        required: true
        example: juan.delacruz@company.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      password:
        custom: []
        name: password
        description: 'Password for account (minimum 6 characters).'
        required: true
        example: SecurePass123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      confirm_password:
        custom: []
        name: confirm_password
        description: 'Password confirmation. Must match the password field.'
        required: true
        example: SecurePass123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      role_id:
        custom: []
        name: role_id
        description: 'Role/Permission template ID.'
        required: true
        example: 2
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      branch_id:
        custom: []
        name: branch_id
        description: 'Branch where employee will be assigned. Must be a valid branch ID.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      department_id:
        custom: []
        name: department_id
        description: 'Department assignment. Must be a valid department ID.'
        required: true
        example: 2
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      designation_id:
        custom: []
        name: designation_id
        description: 'Job position/designation. Must be a valid designation ID.'
        required: true
        example: 3
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      date_hired:
        custom: []
        name: date_hired
        description: 'Date when employee was hired (format: YYYY-MM-DD).'
        required: true
        example: '2024-01-15'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      employee_id:
        custom: []
        name: employee_id
        description: 'Unique employee ID number (will be combined with prefix). Must be unique.'
        required: true
        example: '0001'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      employment_type:
        custom: []
        name: employment_type
        description: 'Type of employment (e.g., Regular, Contractual, Probationary).'
        required: true
        example: Regular
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      employment_status:
        custom: []
        name: employment_status
        description: 'Current employment status (e.g., Active, On Leave).'
        required: true
        example: Active
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      security_license_number:
        custom: []
        name: security_license_number
        description: ''
        required: false
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        deprecated: false
      security_license_expiration:
        custom: []
        name: security_license_expiration
        description: 'Must be a valid date.'
        required: false
        example: '2025-11-25T15:01:55'
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: true
        deprecated: false
      reporting_to:
        custom: []
        name: reporting_to
        description: 'Optional. User ID of the direct supervisor/manager.'
        required: false
        example: 5
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      biometrics_id:
        custom: []
        name: biometrics_id
        description: 'Optional. Unique biometrics device ID for attendance tracking.'
        required: false
        example: BIO123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      emp_prefix:
        custom: []
        name: emp_prefix
        description: 'Employee ID prefix.'
        required: true
        example: EMP
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      phone_number:
        custom: []
        name: phone_number
        description: 'Optional. Contact phone number.'
        required: false
        example: '09171234567'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      first_name: Juan
      last_name: 'Dela Cruz'
      middle_name: Santos
      suffix: Jr.
      username: juan.delacruz
      email: juan.delacruz@company.com
      password: SecurePass123
      confirm_password: SecurePass123
      role_id: 2
      branch_id: 1
      department_id: 2
      designation_id: 3
      date_hired: '2024-01-15'
      employee_id: '0001'
      employment_type: Regular
      employment_status: Active
      security_license_number: architecto
      security_license_expiration: '2025-11-25T15:01:55'
      reporting_to: 5
      biometrics_id: BIO123
      emp_prefix: EMP
      phone_number: '09171234567'
    fileParameters:
      profile_picture: null
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "status": "success",
            "message": "Employee created successfully."
          }
        headers: []
        description: Success
      -
        custom: []
        status: 200
        content: |-
          {
            "status": "success",
            "message": "Employee created successfully.",
            "overage_warning": {
              "message": "License overage detected. Additional invoice created.",
              "invoice_id": 123,
              "overage_count": 5,
              "overage_amount": 2500.00
            }
          }
        headers: []
        description: 'Success with License Overage'
      -
        custom: []
        status: 402
        content: |-
          {
            "status": "implementation_fee_required",
            "message": "Implementation fee payment required before adding employees.",
            "data": {
              "implementation_fee": 5000.00,
              "plan_name": "Enterprise Plan"
            }
          }
        headers: []
        description: 'Implementation Fee Required'
      -
        custom: []
        status: 403
        content: |-
          {
            "status": "upgrade_required",
            "message": "Your plan has reached its employee limit. Please upgrade your plan.",
            "data": {
              "current_plan": "Starter",
              "current_limit": 10,
              "active_employees": 10
            }
          }
        headers: []
        description: 'Plan Upgrade Required'
      -
        custom: []
        status: 403
        content: |-
          {
            "status": "error",
            "message": "You do not have the permission to create."
          }
        headers: []
        description: 'Insufficient Permissions'
      -
        custom: []
        status: 422
        content: |-
          {
            "message": "The email has already been taken.",
            "errors": {
              "email": [
                "The email has already been taken."
              ],
              "username": [
                "The username has already been taken."
              ]
            }
          }
        headers: []
        description: 'Validation Error'
      -
        custom: []
        status: 500
        content: |-
          {
            "message": "Error creating employee.",
            "error": "Database connection failed"
          }
        headers: []
        description: 'Server Error'
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - PUT
    uri: 'api/employees/update/{id}'
    metadata:
      custom: []
      groupName: Employees
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Update employee details'
      description: |-
        Updates an existing employee's personal information, employment details, and role assignments.
        All fields except password are required. Password fields are optional and only needed when changing the password.
      authenticated: true
      deprecated: false
    headers:
      Content-Type: multipart/form-data
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'The ID of the update.'
        required: true
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: architecto
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      first_name:
        custom: []
        name: first_name
        description: "Employee's first name."
        required: true
        example: Juan
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      last_name:
        custom: []
        name: last_name
        description: "Employee's last name."
        required: true
        example: 'Dela Cruz'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      middle_name:
        custom: []
        name: middle_name
        description: "Optional. Employee's middle name."
        required: false
        example: Santos
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      suffix:
        custom: []
        name: suffix
        description: 'Optional. Name suffix.'
        required: false
        example: Jr.
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      username:
        custom: []
        name: username
        description: 'Username for login.'
        required: true
        example: juan.delacruz
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      email:
        custom: []
        name: email
        description: 'Email address.'
        required: true
        example: juan.delacruz@company.com
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      role_id:
        custom: []
        name: role_id
        description: 'Role/Permission template ID.'
        required: true
        example: 2
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      password:
        custom: []
        name: password
        description: 'Optional. New password (minimum 6 characters). Only required when changing password.'
        required: false
        example: NewSecurePass123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      confirm_password:
        custom: []
        name: confirm_password
        description: 'Optional. Password confirmation. Required when password is provided.'
        required: false
        example: NewSecurePass123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: true
        deprecated: false
      designation_id:
        custom: []
        name: designation_id
        description: 'Job position/designation ID.'
        required: true
        example: 3
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      department_id:
        custom: []
        name: department_id
        description: 'Department ID.'
        required: true
        example: 2
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      date_hired:
        custom: []
        name: date_hired
        description: 'Date when employee was hired (format: YYYY-MM-DD).'
        required: true
        example: '2024-01-15'
        type: date
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      employee_id:
        custom: []
        name: employee_id
        description: 'Unique employee ID number.'
        required: true
        example: '0001'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      employment_type:
        custom: []
        name: employment_type
        description: 'Type of employment.'
        required: true
        example: Regular
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      employment_status:
        custom: []
        name: employment_status
        description: 'Current employment status.'
        required: true
        example: Active
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      biometrics_id:
        custom: []
        name: biometrics_id
        description: 'Optional. Unique biometrics device ID.'
        required: false
        example: BIO123
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      editUserId:
        custom: []
        name: editUserId
        description: 'The ID of the employee to update.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      profile_picture:
        custom: []
        name: profile_picture
        description: 'Optional. New profile photo (jpeg, jpg, png format, max 2MB).'
        required: false
        example: null
        type: file
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
      branch_id:
        custom: []
        name: branch_id
        description: 'Branch ID.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      emp_prefix:
        custom: []
        name: emp_prefix
        description: 'Employee ID prefix.'
        required: true
        example: EMP
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      phone_number:
        custom: []
        name: phone_number
        description: 'Optional. Contact phone number.'
        required: false
        example: '09171234567'
        type: string
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
      reporting_to:
        custom: []
        name: reporting_to
        description: 'Optional. User ID of the direct supervisor/manager.'
        required: false
        example: 5
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      first_name: Juan
      last_name: 'Dela Cruz'
      middle_name: Santos
      suffix: Jr.
      username: juan.delacruz
      email: juan.delacruz@company.com
      role_id: 2
      password: NewSecurePass123
      confirm_password: NewSecurePass123
      designation_id: 3
      department_id: 2
      date_hired: '2024-01-15'
      employee_id: '0001'
      employment_type: Regular
      employment_status: Active
      biometrics_id: BIO123
      editUserId: 1
      branch_id: 1
      emp_prefix: EMP
      phone_number: '09171234567'
      reporting_to: 5
    fileParameters:
      profile_picture: null
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "status": "success",
            "message": "Employee updated successfully."
          }
        headers: []
        description: Success
      -
        custom: []
        status: 403
        content: |-
          {
            "status": "error",
            "message": "You do not have the permission to update."
          }
        headers: []
        description: 'Insufficient Permissions'
      -
        custom: []
        status: 404
        content: |-
          {
            "message": "No query results for model [App\\Models\\User]."
          }
        headers: []
        description: 'Employee Not Found'
      -
        custom: []
        status: 422
        content: |-
          {
            "message": "The email has already been taken."
          }
        headers: []
        description: 'Validation Error'
      -
        custom: []
        status: 500
        content: |-
          {
            "message": "Error updating employee.",
            "error": "Database error"
          }
        headers: []
        description: 'Server Error'
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
  -
    custom: []
    httpMethods:
      - DELETE
    uri: 'api/employees/delete/{id}'
    metadata:
      custom: []
      groupName: Employees
      groupDescription: ''
      subgroup: ''
      subgroupDescription: ''
      title: 'Delete an employee'
      description: |-
        Permanently removes an employee record from the system along with all associated data.
        This action cannot be undone. All related records (personal info, employment details, permissions) will be deleted.
      authenticated: true
      deprecated: false
    headers:
      Content-Type: application/json
      Accept: application/json
    urlParameters:
      id:
        custom: []
        name: id
        description: 'The ID of the delete.'
        required: true
        example: architecto
        type: string
        enumValues: []
        exampleWasSpecified: false
        nullable: false
        deprecated: false
    cleanUrlParameters:
      id: architecto
    queryParameters: []
    cleanQueryParameters: []
    bodyParameters:
      delete_id:
        custom: []
        name: delete_id
        description: 'The ID of the employee to delete.'
        required: true
        example: 1
        type: integer
        enumValues: []
        exampleWasSpecified: true
        nullable: false
        deprecated: false
    cleanBodyParameters:
      delete_id: 1
    fileParameters: []
    responses:
      -
        custom: []
        status: 200
        content: |-
          {
            "status": "success",
            "message": "User deleted successfully."
          }
        headers: []
        description: Success
      -
        custom: []
        status: 403
        content: |-
          {
            "status": "error",
            "message": "You do not have permission to delete this employee."
          }
        headers: []
        description: 'Insufficient Permissions'
      -
        custom: []
        status: 404
        content: |-
          {
            "message": "No query results for model [App\\Models\\User]."
          }
        headers: []
        description: 'Employee Not Found'
    responseFields: []
    auth: []
    controller: null
    method: null
    route: null
